{"version":3,"sources":["webpack:///./src/views/Login.vue?5c9c","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?09c2","webpack:///./src/views/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","domProps","_s","$t","staticStyle","on","$event","preventDefault","handleSubmit","directives","name","rawName","value","form","expression","attrs","target","composing","$set","error","_e","isLoading","_v","staticRenderFns","data","methods","component"],"mappings":"8GAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACN,EAAIO,GAAG,GAAGH,EAAG,KAAK,CAACE,YAAY,2BAA2BE,SAAS,CAAC,YAAcR,EAAIS,GAAGT,EAAIU,GAAG,aAAaN,EAAG,OAAO,CAACE,YAAY,UAAUK,YAAY,CAAC,YAAY,SAASC,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBd,EAAIe,aAAaF,MAAW,CAACT,EAAG,KAAK,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACY,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOnB,EAAIoB,KAAU,MAAEC,WAAW,eAAef,YAAY,oCAAoCgB,MAAM,CAAC,KAAO,QAAQ,YAAc,SAASd,SAAS,CAAC,MAASR,EAAIoB,KAAU,OAAGR,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOU,OAAOC,WAAqBxB,EAAIyB,KAAKzB,EAAIoB,KAAM,QAASP,EAAOU,OAAOJ,aAAaf,EAAG,KAAK,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACY,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOnB,EAAIoB,KAAa,SAAEC,WAAW,kBAAkBf,YAAY,oCAAoCgB,MAAM,CAAC,KAAO,WAAW,YAAc,YAAYd,SAAS,CAAC,MAASR,EAAIoB,KAAa,UAAGR,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOU,OAAOC,WAAqBxB,EAAIyB,KAAKzB,EAAIoB,KAAM,WAAYP,EAAOU,OAAOJ,aAAcnB,EAAS,MAAEI,EAAG,KAAK,CAACE,YAAY,oBAAoBE,SAAS,CAAC,YAAcR,EAAIS,GAAGT,EAAI0B,UAAU1B,EAAI2B,KAAKvB,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,SAAS,CAACE,YAAY,qBAAqBgB,MAAM,CAAC,KAAO,SAAS,SAAWtB,EAAI4B,WAAWpB,SAAS,CAAC,YAAcR,EAAIS,GAAGT,EAAIU,GAAG,eAAeN,EAAG,KAAK,CAACE,YAAY,0BAA0B,CAACN,EAAI6B,GAAG,QAAQzB,EAAG,cAAc,CAACkB,MAAM,CAAC,GAAK,YAAY,CAACtB,EAAI6B,GAAG,cAAc,QACjmDC,EAAkB,CAAC,WAAa,IAAI9B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACO,YAAY,CAAC,YAAY,SAASW,MAAM,CAAC,IAAM,EAAQ,e,4DCyCtN,GACES,KADF,WAEI,MAAO,CACLL,MAAO,GACPN,KAAM,GACNQ,WAAW,IAGfI,QAAS,CACP,aADJ,6KAGA,kBAHA,SAIA,gCAJA,OAIA,EAJA,OAKA,cACA,eANA,mDAQA,mCACA,kBATA,iHAYI,OAZJ,oEAYA,GAZA,uHAcA,0BAdA,OAcA,EAdA,OAeA,4CACA,8CACA,8BACA,qCAlBA,mDAqBA,gBACA,kBAtBA,oHClD+U,I,YCO3UC,EAAY,eACd,EACAlC,EACA+B,GACA,EACA,KACA,KACA,MAIa,aAAAG,E","file":"js/login.5a9cd3e6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-sm p-responsive\"},[_vm._m(0),_c('h4',{staticClass:\"text-center eyebrow mb-4\",domProps:{\"textContent\":_vm._s(_vm.$t('login'))}}),_c('form',{staticClass:\"mx-auto\",staticStyle:{\"max-width\":\"360px\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('dl',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.email),expression:\"form.email\"}],staticClass:\"form-control input-lg input-block\",attrs:{\"type\":\"email\",\"placeholder\":\"Email\"},domProps:{\"value\":(_vm.form.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"email\", $event.target.value)}}})]),_c('dl',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.password),expression:\"form.password\"}],staticClass:\"form-control input-lg input-block\",attrs:{\"type\":\"password\",\"placeholder\":\"Password\"},domProps:{\"value\":(_vm.form.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"password\", $event.target.value)}}})]),(_vm.error)?_c('dl',{staticClass:\"flash flash-error\",domProps:{\"textContent\":_vm._s(_vm.error)}}):_vm._e(),_c('div',{staticClass:\"form-actions\"},[_c('button',{staticClass:\"btn-mktg btn-block\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isLoading},domProps:{\"textContent\":_vm._s(_vm.$t('login'))}})]),_c('dl',{staticClass:\"form-group text-center\"},[_vm._v(\"Or, \"),_c('router-link',{attrs:{\"to\":\"/signup\"}},[_vm._v(\"sign up\")])],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-center mb-4\"},[_c('img',{staticStyle:{\"max-width\":\"220px\"},attrs:{\"src\":require(\"@/assets/logo.svg\")}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container-sm p-responsive\">\n    <div class=\"text-center mb-4\">\n      <img src=\"~/@/assets/logo.svg\" style=\"max-width: 220px;\" />\n    </div>\n    <h4 class=\"text-center eyebrow mb-4\" v-text=\"$t('login')\" />\n    <form @submit.prevent=\"handleSubmit\" style=\"max-width: 360px;\" class=\"mx-auto\">\n      <dl class=\"form-group\">\n        <input\n          class=\"form-control input-lg input-block\"\n          type=\"email\"\n          placeholder=\"Email\"\n          v-model=\"form.email\"\n        />\n      </dl>\n      <dl class=\"form-group\">\n        <input\n          class=\"form-control input-lg input-block\"\n          type=\"password\"\n          placeholder=\"Password\"\n          v-model=\"form.password\"\n        />\n      </dl>\n      <dl class=\"flash flash-error\" v-if=\"error\" v-text=\"error\" />\n      <div class=\"form-actions\">\n        <button\n          type=\"submit\"\n          class=\"btn-mktg btn-block\"\n          :disabled=\"isLoading\"\n          v-text=\"$t('login')\"\n        />\n      </div>\n      <dl class=\"form-group text-center\">Or, <router-link to=\"/signup\">sign up</router-link></dl>\n    </form>\n  </div>\n</template>\n\n<script>\nimport client from '@/helpers/client';\nimport { login } from '@/../common/schemas';\nimport { TOKEN_LOCALSTORAGE_KEY } from '@/helpers/utils';\n\nexport default {\n  data() {\n    return {\n      error: '',\n      form: {},\n      isLoading: false\n    };\n  },\n  methods: {\n    async handleSubmit() {\n      try {\n        this.isLoading = true;\n        const values = await login.validateAsync(this.form);\n        this.error = '';\n        this.submit(values);\n      } catch (error) {\n        this.error = error.details[0].message;\n        this.isLoading = false;\n      }\n    },\n    async submit(values) {\n      try {\n        const result = await client.request('login', values);\n        localStorage.setItem(TOKEN_LOCALSTORAGE_KEY, result.access_token);\n        this.$store.dispatch('init').then(() => {\n          const redirect = this.$route.query.redirect;\n          this.$router.push(redirect || '/healthcheck');\n        });\n      } catch (error) {\n        this.error = error;\n        this.isLoading = false;\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=45bdc80a&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}