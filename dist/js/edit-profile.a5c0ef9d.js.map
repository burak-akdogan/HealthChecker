{"version":3,"sources":["webpack:///./src/views/EditProfile.vue?af63","webpack:///src/views/EditProfile.vue","webpack:///./src/views/EditProfile.vue?a75c","webpack:///./src/views/EditProfile.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","account","username","meta","on","setCover","setAvatar","$event","preventDefault","handleSubmit","_m","directives","name","rawName","value","form","expression","domProps","target","composing","$set","_s","error","_e","isLoading","_v","staticRenderFns","data","$store","state","settings","mounted","JSON","parse","stringify","methods","cover","avatar","component"],"mappings":"qHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACE,YAAY,gBAAgBC,MAAM,CAAC,SAAWP,EAAIQ,QAAQC,SAAS,KAAOT,EAAIQ,QAAQE,KAAK,UAAW,GAAMC,GAAG,CAAC,MAAQX,EAAIY,SAAS,OAASZ,EAAIa,aAAaT,EAAG,OAAO,CAACE,YAAY,MAAMK,GAAG,CAAC,OAAS,SAASG,GAAgC,OAAxBA,EAAOC,iBAAwBf,EAAIgB,aAAaF,MAAW,CAACV,EAAG,KAAK,CAACE,YAAY,cAAc,CAACN,EAAIiB,GAAG,GAAGb,EAAG,QAAQ,CAACc,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOrB,EAAIsB,KAAS,KAAEC,WAAW,cAAcjB,YAAY,oCAAoCC,MAAM,CAAC,GAAK,OAAO,KAAO,QAAQiB,SAAS,CAAC,MAASxB,EAAIsB,KAAS,MAAGX,GAAG,CAAC,MAAQ,SAASG,GAAWA,EAAOW,OAAOC,WAAqB1B,EAAI2B,KAAK3B,EAAIsB,KAAM,OAAQR,EAAOW,OAAOJ,aAAajB,EAAG,KAAK,CAACE,YAAY,cAAc,CAACN,EAAIiB,GAAG,GAAGb,EAAG,WAAW,CAACc,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOrB,EAAIsB,KAAU,MAAEC,WAAW,eAAejB,YAAY,oCAAoCC,MAAM,CAAC,GAAK,SAASiB,SAAS,CAAC,MAASxB,EAAIsB,KAAU,OAAGX,GAAG,CAAC,MAAQ,SAASG,GAAWA,EAAOW,OAAOC,WAAqB1B,EAAI2B,KAAK3B,EAAIsB,KAAM,QAASR,EAAOW,OAAOJ,aAAcrB,EAAS,MAAEI,EAAG,KAAK,CAACE,YAAY,oBAAoBkB,SAAS,CAAC,YAAcxB,EAAI4B,GAAG5B,EAAI6B,UAAU7B,EAAI8B,KAAK1B,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,SAAS,CAACE,YAAY,WAAWC,MAAM,CAAC,KAAO,SAAS,SAAWP,EAAI+B,YAAY,CAAC/B,EAAIgC,GAAG,iBAAiB,IAC94CC,EAAkB,CAAC,WAAa,IAAIjC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,SAAS,CAACP,EAAIgC,GAAG,aAAa,WAAa,IAAIhC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,UAAU,CAACP,EAAIgC,GAAG,a,oCCoCjT,GACEE,KADF,WAEI,MAAO,CACLL,OAAO,EACPP,KAAM,GACNS,WAAW,EACXvB,QAASP,KAAKkC,OAAOC,MAAMC,SAAS7B,UAGxC8B,QATF,WAUIrC,KAAKqB,KAAOiB,KAAKC,MAAMD,KAAKE,UAAUxC,KAAKO,QAAQE,QAErDgC,QAAS,CACP,aADJ,8JAEA,kBAFA,kBAIA,yCAJA,uBAKA,yDALA,OAMA,0EACA,qDAPA,qDASA,gBATA,QAWA,kBAXA,kHAaI9B,SAbJ,SAaA,GACMX,KAAKqB,KAAKqB,MAAQtB,GAEpBR,UAhBJ,SAgBA,GACMZ,KAAKqB,KAAKsB,OAASvB,KClE4T,I,YCOjVwB,EAAY,eACd,EACA9C,EACAkC,GACA,EACA,KACA,KACA,MAIa,aAAAY,E","file":"js/edit-profile.a5c0ef9d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Cover',{staticClass:\"border-bottom\",attrs:{\"username\":_vm.account.username,\"meta\":_vm.account.meta,\"editable\":true},on:{\"cover\":_vm.setCover,\"avatar\":_vm.setAvatar}}),_c('form',{staticClass:\"p-4\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('dl',{staticClass:\"form-group\"},[_vm._m(0),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.name),expression:\"form.name\"}],staticClass:\"form-control input-lg input-block\",attrs:{\"id\":\"name\",\"type\":\"text\"},domProps:{\"value\":(_vm.form.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"name\", $event.target.value)}}})]),_c('dl',{staticClass:\"form-group\"},[_vm._m(1),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.about),expression:\"form.about\"}],staticClass:\"form-control input-lg input-block\",attrs:{\"id\":\"about\"},domProps:{\"value\":(_vm.form.about)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"about\", $event.target.value)}}})]),(_vm.error)?_c('dl',{staticClass:\"flash flash-error\",domProps:{\"textContent\":_vm._s(_vm.error)}}):_vm._e(),_c('div',{staticClass:\"form-actions pt-4\"},[_c('button',{staticClass:\"btn-mktg\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isLoading}},[_vm._v(\" Save \")])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dt',[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Name\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dt',[_c('label',{attrs:{\"for\":\"about\"}},[_vm._v(\"Bio\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <Cover\n      :username=\"account.username\"\n      :meta=\"account.meta\"\n      :editable=\"true\"\n      @cover=\"setCover\"\n      @avatar=\"setAvatar\"\n      class=\"border-bottom\"\n    />\n    <form @submit.prevent=\"handleSubmit\" class=\"p-4\">\n      <dl class=\"form-group\">\n        <dt><label for=\"name\">Name</label></dt>\n        <input\n          id=\"name\"\n          class=\"form-control input-lg input-block\"\n          type=\"text\"\n          v-model=\"form.name\"\n        />\n      </dl>\n      <dl class=\"form-group\">\n        <dt><label for=\"about\">Bio</label></dt>\n        <textarea id=\"about\" class=\"form-control input-lg input-block\" v-model=\"form.about\" />\n      </dl>\n      <dl class=\"flash flash-error\" v-if=\"error\" v-text=\"error\" />\n      <div class=\"form-actions pt-4\">\n        <button type=\"submit\" class=\"btn-mktg\" :disabled=\"isLoading\">\n          Save\n        </button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport client from '@/helpers/client';\n\nexport default {\n  data() {\n    return {\n      error: false,\n      form: {},\n      isLoading: false,\n      account: this.$store.state.settings.account\n    };\n  },\n  mounted() {\n    this.form = JSON.parse(JSON.stringify(this.account.meta));\n  },\n  methods: {\n    async handleSubmit() {\n      this.isLoading = true;\n      try {\n        await client.request('edit_profile', this.form);\n        await this.$store.dispatch('getProfile', this.account.username);\n        this.$store.dispatch('notify', `You've successfully updated your profile`);\n        this.$router.push(`/${this.account.username}`);\n      } catch (error) {\n        this.error = error;\n      }\n      this.isLoading = false;\n    },\n    setCover(value) {\n      this.form.cover = value;\n    },\n    setAvatar(value) {\n      this.form.avatar = value;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProfile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditProfile.vue?vue&type=template&id=59f578b7&\"\nimport script from \"./EditProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./EditProfile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}